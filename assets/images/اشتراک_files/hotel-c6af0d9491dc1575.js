(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{16170:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/setting/hotel",function(){return s(45585)}])},56300:function(e,l,s){"use strict";var a=s(85893),i=s(67294),n=s(11163),t=s(27511),r=s(31955);l.Z=e=>{let{children:l}=e,{isAuthenticated:s}=(0,t.a)(),d=r.Z.get("authToken"),c=r.Z.get("property"),o=(0,n.useRouter)();return(0,i.useEffect)(()=>{d||o.push("/login")},[d,o]),(0,i.useEffect)(()=>{c||o.push("/login")},[c,o]),(0,a.jsx)(a.Fragment,{children:l})}},31186:function(e,l,s){"use strict";s.r(l);var a=s(85893),i=s(8453),n=s(52152),t=s(37871);l.default=()=>{let{t:e}=(0,t.$G)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-row w-full space-x-4 rtl:space-x-reverse",children:[(0,a.jsx)("div",{className:"basis-3/12",children:(0,a.jsx)(i.Z.Item,{label:e("Default Language"),name:["configs","general","defaultLanguage"],className:"basis-2/12",children:(0,a.jsx)(n.default,{placeholder:e("Default Language")})})}),(0,a.jsx)("div",{className:"basis-3/12",children:(0,a.jsx)(i.Z.Item,{label:e("Default Locale"),name:["configs","general","defaultLocale"],className:"basis-2/12",children:(0,a.jsx)(n.default,{placeholder:e("Default Locale")})})}),(0,a.jsx)("div",{className:"basis-3/12",children:(0,a.jsx)(i.Z.Item,{label:e("Default Calendar"),name:["configs","general","defaultCalendar"],className:"basis-2/12",children:(0,a.jsx)(n.default,{placeholder:e("Default Calendar")})})})]})})}},6028:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return u}});var a=s(85893);let i=[{key:"Hotel",value:"Hotel"},{key:"Apt",value:"Apartment"},{key:"Villa",value:"Villa"},{key:"BedAndBreakfast",value:"Bed and breakfast"}];var n=s(8453),t=s(52152),r=s(98803),d=s(37871),c=s(86120),o=s(33944),u=e=>{var l,s;let{city:u,setCity:x,country:m,setCountry:h}=e,{t:j}=(0,d.$G)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-row w-full space-x-4 rtl:space-x-reverse",children:[(0,a.jsx)("div",{className:"basis-3/12",children:(0,a.jsx)(n.Z.Item,{label:j("Economy Code"),name:"economyCode",rules:[{required:!0}],children:(0,a.jsx)(t.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:j("Vat Code"),name:"vatId",children:(0,a.jsx)(t.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:j("Sheba"),name:"sheba",children:(0,a.jsx)(t.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:j("Email"),name:"email",children:(0,a.jsx)(t.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:j("Booking Email"),name:"bookingEmail",children:(0,a.jsx)(t.default,{})})})]}),(0,a.jsxs)("div",{className:"flex flex-row w-full space-x-4 rtl:space-x-reverse",children:[(0,a.jsx)("div",{className:"basis-3/12",children:(0,a.jsx)(n.Z.Item,{label:j("Booking Phone"),name:"bookingPhoneNumber",children:(0,a.jsx)(t.default,{})})}),(0,a.jsx)("div",{className:"basis-1/12",children:(0,a.jsx)(n.Z.Item,{label:j("Built Year"),name:"builtYear",children:(0,a.jsx)(t.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:j("Property type"),name:"propertyType",children:(0,a.jsx)(r.default,{placeholder:j("Select..."),children:null==i?void 0:i.map(e=>(0,a.jsx)(r.default.Option,{value:e.value,children:j(e.value)},e.value))})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:j("Country"),name:"country",rules:[{required:!0}],children:(0,a.jsx)(r.default,{placeholder:j("Select..."),onChange:h,showSearch:!0,children:null===(l=Object.keys(c.hW))||void 0===l?void 0:l.map(e=>(0,a.jsx)(r.default.Option,{value:e,children:c.hW[e].native},e))})})}),m&&(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:j("City"),name:"city",rules:[{required:!0}],children:(0,a.jsx)(r.default,{placeholder:j("Select..."),onChange:x,children:null===(s=o.filter(e=>e.country===m))||void 0===s?void 0:s.map(e=>(0,a.jsx)(r.default.Option,{value:e.name,children:e.name},e.name))})})})]})]})}},45585:function(e,l,s){"use strict";s.r(l);var a=s(85893),i=s(50319),n=s(73359),t=s(8453),r=s(85675),d=s(89770),c=s(68616),o=s(26036),u=s(46237),x=s(12930),m=s(11163),h=s(67294),j=s(37871),f=s(97170),p=s(63360),v=s(6028),b=s(28568),N=s(98914),g=s(79068),Z=s(56300),y=s(31186),I=s(92537),k=s(21450),w=s(55192),C=s(40822),E=s(13720),T=s(2962);l.default=()=>{let{t:e}=(0,j.$G)(),[l]=t.Z.useForm(),s=(0,m.useRouter)(),[Y,S]=(0,h.useState)(""),[O,q]=(0,h.useState)(""),[z,D]=(0,h.useState)([51.41,35.72]),[M,_]=(0,h.useState)(),P=[{key:"1",label:(0,a.jsxs)("div",{className:"flex flex-row gap-x-2 items-center",children:[(0,a.jsx)(I.Z,{size:20,variant:"Bulk"})," ",e("Hotel information")]}),children:(0,a.jsx)(f.default,{})},{key:"2",label:(0,a.jsxs)("div",{className:"flex flex-row gap-x-2 items-center",children:[(0,a.jsx)(k.Z,{size:20,variant:"Bulk"})," ",e("Hotel Details")]}),children:(0,a.jsx)(v.default,{city:O,setCity:q,country:Y,setCountry:S})},{key:"3",label:(0,a.jsxs)("div",{className:"flex flex-row gap-x-2 items-center",children:[(0,a.jsx)(w.Z,{size:20,variant:"Bulk"})," ",e("Social media")]}),children:(0,a.jsx)(b.default,{})},{key:"4",label:(0,a.jsxs)("div",{className:"flex flex-row gap-x-2 items-center",children:[(0,a.jsx)(C.Z,{size:20,variant:"Bulk"})," ",e("Location")]}),children:(0,a.jsx)(N.default,{form:l,markers:z,setMarkers:D,address:M,setAddress:_})},{key:"5",label:(0,a.jsxs)("div",{className:"flex flex-row gap-x-2 items-center",children:[(0,a.jsx)(E.Z,{size:20,variant:"Bulk"})," ",e("Config")]}),children:(0,a.jsx)(y.default,{})}],[F,{loading:W}]=(0,i.D)(g.S,{refetchQueries:[p.K],onCompleted:()=>{r.ZP.success({message:e("Data updated successfully")}),s.push("/setting/hotel")},onError:l=>{r.ZP.error({message:e(l.message)})}}),[A,{loading:B}]=(0,n.t)(p.K,{fetchPolicy:"network-only",onCompleted:async e=>{let{hotel:s}=e;if(s){var a;l.setFieldsValue({...s}),_(s.address),D(null==s?void 0:null===(a=s.location)||void 0===a?void 0:a.split(",")),S(null==s?void 0:s.country),q(s.city)}}});return(0,h.useEffect)(()=>{A()},[A]),(0,a.jsxs)(Z.Z,{children:[(0,a.jsx)(T.PB,{title:e("Setting")}),(0,a.jsx)(d.Z,{children:(0,a.jsx)(c.Z,{md:24,children:(0,a.jsx)(o.Z,{title:e("Edit hotel"),loading:B,children:(0,a.jsxs)(t.Z,{form:l,onFinish:e=>{var l,s;F({variables:{input:{...e,city:O,country:Y,address:M,location:z.toString(),nationalId:null==e?void 0:null===(l=e.nationalId)||void 0===l?void 0:l.toString(),vatId:null==e?void 0:null===(s=e.vatId)||void 0===s?void 0:s.toString(),builtYear:parseInt(null==e?void 0:e.builtYear)}}})},name:"basic",layout:"vertical",autoComplete:"off",size:"large",children:[(0,a.jsx)(u.Z,{defaultActiveKey:"1",items:P}),(0,a.jsx)("div",{className:"flex flex-row w-full space-x-4 rtl:space-x-reverse items-center justify-between",children:(0,a.jsxs)("div",{className:"flex flex-row space-x-4 rtl:space-x-reverse",children:[(0,a.jsx)(x.ZP,{onClick:()=>s.back(),children:e("Discard")},"back"),(0,a.jsx)(t.Z.Item,{children:(0,a.jsx)(x.ZP,{loading:W,htmlType:"submit",className:"bg-secondary text-white hover:bg-primary hover:text-primary-foreground border-0",children:e("Update")})})]})})]})})})})]})}},97170:function(e,l,s){"use strict";s.r(l);var a=s(85893),i=s(52152),n=s(8453),t=s(37871);let{TextArea:r}=i.default;l.default=()=>{let{t:e}=(0,t.$G)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-row w-full space-x-4 rtl:space-x-reverse",children:[(0,a.jsx)("div",{className:"basis-3/12",children:(0,a.jsx)(n.Z.Item,{label:e("Name"),name:"name",rules:[{required:!0}],children:(0,a.jsx)(i.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:e("English name"),name:"nameEn",rules:[{required:!0}],children:(0,a.jsx)(i.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:e("Ceo name"),name:"ceoName",rules:[{required:!0}],children:(0,a.jsx)(i.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:e("Phone"),name:"phone",rules:[{required:!0}],children:(0,a.jsx)(i.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:e("Registration Name"),name:"registrationName",rules:[{required:!0}],children:(0,a.jsx)(i.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:e("Registration Number"),name:"registrationNumber",rules:[{required:!0}],children:(0,a.jsx)(i.default,{})})})]}),(0,a.jsxs)("div",{className:"flex flex-row w-full space-x-4 rtl:space-x-reverse",children:[(0,a.jsx)("div",{className:"basis-3/12",children:(0,a.jsx)(n.Z.Item,{label:e("National ID"),name:"nationalId",rules:[{required:!0}],children:(0,a.jsx)(i.default,{})})}),(0,a.jsx)("div",{className:"basis-2/12",children:(0,a.jsx)(n.Z.Item,{label:e("License"),name:"license",rules:[{required:!0}],children:(0,a.jsx)(i.default,{})})})]}),(0,a.jsx)("div",{className:"basis-12/12",children:(0,a.jsx)(n.Z.Item,{label:e("Description"),name:"description",children:(0,a.jsx)(r,{rows:4})})})]})}},98914:function(e,l,s){"use strict";s.r(l);var a=s(85893),i=s(8453),n=s(52152),t=s(12930),r=s(34800),d=s(33479),c=s(82370),o=s(67294),u=s(37871),x=s(61108);s(69055),l.default=e=>{let{markers:l,setMarkers:s,address:m,setAddress:h,form:j}=e,{t:f}=(0,u.$G)(),[p,v]=(0,o.useState)(!1),[b,N]=(0,o.useState)(!1),g=()=>{v(!1),j.setFieldValue("address",m)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-row w-full  space-x-4 rtl:space-x-reverse",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(i.Z.Item,{label:f("Address"),name:"address",children:(0,a.jsx)(n.default,{})})})}),(0,a.jsx)("div",{className:"flex flex-row w-full  space-x-4 rtl:space-x-reverse",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(i.Z.Item,{label:f("Address English"),name:"addressEn",children:(0,a.jsx)(n.default,{})})})}),(0,a.jsx)(t.ZP,{type:"primary",ghost:!0,onClick:()=>v(!0),className:"mb-8",children:f("Select address on map")}),(0,a.jsxs)(r.Z,{open:p,onCancel:g,onOk:g,width:1e3,destroyOnClose:!0,"aria-labelledby":"customized-dialog-title",footer:[(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(t.ZP,{onClick:g,children:f("Cancel")},"back"),(0,a.jsx)(t.ZP,{type:"primary",onClick:g,children:f("Submit")},"submit")]},1)],children:[f("Select address on map"),(0,a.jsx)("div",{style:{width:"100%",height:"450px",margin:"40px 0",textAlign:"center",position:"relative"},children:(0,a.jsxs)("div",{style:{height:"100%",width:"100%",direction:"ltr",textAlign:"center"},dir:"ltr",children:[b?(0,a.jsx)(c.Z,{spinning:!0,style:{marginBottom:20}}):(0,a.jsx)("p",{style:{direction:"rtl",marginBottom:18},children:m}),l&&(0,a.jsx)(x.ZP,{initialViewState:{latitude:l[1],longitude:l[0],zoom:15.5,bearing:10,pitch:0},onClick:e=>{let{lngLat:{lng:l,lat:a}}=e;N(!0);let i="https://map.ir/reverse/no?lat=".concat(a,"&lon=").concat(l);fetch(i,{headers:{"Content-Type":"application/json","x-api-key":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjE0YTkxZDdmYTk5OGRlZjU0N2Y2YWNmZThjNDRlZWMyY2VmZWZmMjY0MzMyN2NkMzFlMjdkOTU2NTZiMzliZmUxZjU3ZTYwOTRjNDE2ZGYxIn0.eyJhdWQiOiIyNDUxMCIsImp0aSI6IjE0YTkxZDdmYTk5OGRlZjU0N2Y2YWNmZThjNDRlZWMyY2VmZWZmMjY0MzMyN2NkMzFlMjdkOTU2NTZiMzliZmUxZjU3ZTYwOTRjNDE2ZGYxIiwiaWF0IjoxNjk3Mzc5NTE2LCJuYmYiOjE2OTczNzk1MTYsImV4cCI6MTY5OTg4NTExNiwic3ViIjoiIiwic2NvcGVzIjpbImJhc2ljIl19.mFkdrgAcevENlnG8rXwyEKF7olUSwX5z2nNpuYUeTkNP9cxoSApDHm3arRnfdCYuSB9dxutpY_i2Oi_CAqj_OI4Q-7NvzDta5qsDpE7rzwk6Y03dhIZghzEKV61kC_zepS17UWsH42xQlyt6-uPFeKXVgS06Vi7eg7TOUAyIv2IOso_ygqK_Dqm5xXZZNYDqORhh80l60dDvcXmWIgWIHuR6h6q5pn8OWFpRx--q6braLVsfMILbe0PzMtRcbQ02_P4vq4BQifRqTIFE4kWro8a9E1oeHN-gONNgHLs9Ap06FEhq_pFj9Roe0Wpg0OfaolEn065lftWQqrbGsxLYGQ"}}).then(e=>e.json()).then(e=>{N(!1),s([l,a]),h(e.address_compact)})},mapStyle:"mapbox://styles/mapbox/streets-v12",mapboxAccessToken:"pk.eyJ1IjoibWFnaGlhc3ZhbmQiLCJhIjoiY2xwamozbGw2MDBodTJpa2VyMmxieWN4MiJ9.8mLJIx_t5HNVRjvOpeETWg",children:l.length>0&&(0,a.jsx)(x.Jx,{longitude:l[0],latitude:l[1]})})]})})]})]})}},28568:function(e,l,s){"use strict";s.r(l);var a=s(85893),i=s(8453),n=s(52152),t=s(37871);l.default=()=>{let{t:e}=(0,t.$G)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-row w-full space-x-4 rtl:space-x-reverse",children:[(0,a.jsx)("div",{className:"basis-4/12",children:(0,a.jsx)(i.Z.Item,{label:e("Instagram"),name:"instagram",rules:[{required:!0}],children:(0,a.jsx)(n.default,{})})}),(0,a.jsx)("div",{className:"basis-4/12",children:(0,a.jsx)(i.Z.Item,{label:e("Linkedin"),name:"linkedin",rules:[{required:!0}],children:(0,a.jsx)(n.default,{})})}),(0,a.jsx)("div",{className:"basis-4/12",children:(0,a.jsx)(i.Z.Item,{label:e("Whatsapp"),name:"whatsapp",rules:[{required:!0}],children:(0,a.jsx)(n.default,{})})}),(0,a.jsx)("div",{className:"basis-4/12",children:(0,a.jsx)(i.Z.Item,{label:e("Tripadvisor"),name:"tripadvisor",rules:[{required:!0}],children:(0,a.jsx)(n.default,{})})})]})})}},79068:function(e,l,s){"use strict";s.d(l,{S:function(){return r}});var a=s(82729),i=s(68806),n=s(54910);function t(){let e=(0,a._)(["\n  mutation updateHotel($input: UpdateHotelInput!) {\n    updateHotel(input: $input) {\n      id\n    }\n  }\n"]);return t=function(){return e},e}let r=(0,i.ZP)(t());(0,n.B)(r)},63360:function(e,l,s){"use strict";s.d(l,{K:function(){return r}});var a=s(82729),i=s(68806),n=s(54910);function t(){let e=(0,a._)(["\n  query hotel {\n    hotel {\n      id\n      name\n      ceoName\n      nameEn\n      description\n      location\n      address\n      addressEn\n      phone\n      propertyType\n      email\n      logo\n      status\n      registrationName\n      registrationNumber\n      nationalId\n      license\n      economyCode\n      vatId\n      sheba\n      starRate\n      country\n      city\n      bookingEmail\n      bookingPhoneNumber\n      builtYear\n      instagram\n      linkedin\n      whatsapp\n      tripadvisor\n      policies {\n        id\n        title\n      }\n      configs\n      deletedAt\n      createdAt\n      updatedAt\n    }\n  }\n"]);return t=function(){return e},e}let r=(0,i.ZP)(t());(0,n.B)(r)}},function(e){e.O(0,[6372,5675,6036,9668,6120,7244,9774,2888,179],function(){return e(e.s=16170)}),_N_E=e.O()}]);