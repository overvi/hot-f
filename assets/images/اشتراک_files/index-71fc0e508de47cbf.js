(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{48312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(36746)}])},56300:function(e,t,a){"use strict";var s=a(85893),r=a(67294),n=a(11163),i=a(27511),l=a(31955);t.Z=e=>{let{children:t}=e,{isAuthenticated:a}=(0,i.a)(),o=l.Z.get("authToken"),d=l.Z.get("property"),c=(0,n.useRouter)();return(0,r.useEffect)(()=>{o||c.push("/login")},[o,c]),(0,r.useEffect)(()=>{d||c.push("/login")},[d,c]),(0,s.jsx)(s.Fragment,{children:t})}},11354:function(e,t,a){"use strict";var s=a(85893),r=a(24155),n=a(24486),i=a(67421);t.Z=e=>{let{steps:t}=e,{t:a}=(0,i.$G)();return(0,s.jsx)(r.Z,{className:"mt-2 mx-2",items:[{href:"/",title:(0,s.jsx)(n.Z,{size:18})},...t]})}},56869:function(e,t,a){"use strict";var s=a(85893),r=a(26036),n=a(98969),i=a(5152),l=a.n(i),o=a(37871);let d=l()(()=>Promise.all([a.e(5279),a.e(7229)]).then(a.bind(a,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});t.Z=e=>{let{loading:t=!1,title:a,subTitle:i,icon:l,color:c,type:u="area",children:x,options:h,noChart:m=!1}=e,{t:f}=(0,o.$G)();return(0,s.jsx)(r.Z,{bodyStyle:{padding:0},children:(0,s.jsx)("div",{className:"basis-1/3 overflow-hidden max-h-52",children:t?(0,s.jsx)("div",{className:"px-4 flex flex-row justify-between items-center h-48",children:(0,s.jsx)(n.Z,{active:!0,paragraph:{rows:4}})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"pt-4 px-4 flex flex-row justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold",children:f(a)}),(0,s.jsx)("p",{className:"text-gray-400",children:f(null!=i?i:"")})]}),l]}),x,!m&&(0,s.jsx)(d,{options:h,series:[{name:"series-1",data:[90,40,35,80,49,60,70,91,125]}],type:u})]})})})}},4712:function(e,t,a){"use strict";var s=a(85893),r=a(19477),n=a(67421);t.Z=e=>{let{loading:t,dataSource:a}=e,{t:i}=(0,n.$G)(),l=[{title:i("Guest"),dataIndex:"name",key:"name"},{title:i("Revenue"),dataIndex:"age",key:"age"},{title:i("Checkin"),dataIndex:"address",key:"address"},{title:i("Nights"),dataIndex:"address",key:"address"},{title:i("Actions"),dataIndex:"address",key:"address"}];return(0,s.jsx)(r.Z,{dataSource:a,columns:l,size:"small",pagination:{hideOnSinglePage:!0}})}},43740:function(e,t,a){"use strict";var s=a(85893),r=a(78605),n=a(33479),i=a(97845),l=a(19477),o=a(18866),d=a(28688),c=a(41664),u=a.n(c),x=a(11163),h=a(67294),m=a(67421);t.Z=e=>{let{type:t,data:a}=e,[c,f]=(0,h.useState)([]),{t:v}=(0,m.$G)(),g=(0,x.useRouter)();return(0,h.useEffect)(()=>{"departures"===t?f([{title:v("Guest"),dataIndex:"name",key:"name",render:(e,t)=>{var a,r;return(0,s.jsxs)(n.Z,{align:"center",children:[null==t?void 0:null===(a=t.user)||void 0===a?void 0:a.firstName," ",null==t?void 0:null===(r=t.user)||void 0===r?void 0:r.lastName]})}},{title:v("Conf #"),dataIndex:"confno",key:"confno",align:"right",render:(e,t)=>(0,s.jsx)(n.Z,{align:"center",children:null==t?void 0:t.reservationNumber})},{title:v("Room"),dataIndex:"room",key:"room",align:"center",render:(e,t)=>{var a;return(0,s.jsx)(n.Z,{align:"center",children:null==t?void 0:null===(a=t.room)||void 0===a?void 0:a.roomNumber})}},{title:v("Status"),dataIndex:"status",key:"status",render:(e,t)=>v((0,r.l4)(null==t?void 0:t.status))},{title:v("Balance"),dataIndex:"balance",key:"balance",render:(e,t)=>(0,r.aw)((0,r.fN)(null==t?void 0:t.fee))},{title:v("Actions"),key:"action",align:"center",render:(e,t)=>(0,s.jsxs)("div",{className:"flex-row flex space-x-2 rtl:space-x-reverse justify-center",children:[(0,s.jsx)(i.default.Link,{onClick:()=>g.push("/crs/reservation/".concat(t.id)),children:(0,s.jsx)(o.Z,{className:"text-neutral-400",size:22})}),(0,s.jsx)(i.default.Link,{children:(0,s.jsx)(u(),{href:"/crs/reservation/".concat(t.id),className:"text-neutral-400",children:(0,s.jsx)(d.Z,{className:"text-neutral-400",size:24})})})]})}]):f([{title:v("Guest"),dataIndex:"name",key:"name",render:(e,t)=>{var a,r;return(0,s.jsxs)(n.Z,{align:"center",children:[null==t?void 0:null===(a=t.user)||void 0===a?void 0:a.firstName," ",null==t?void 0:null===(r=t.user)||void 0===r?void 0:r.lastName]})}},{title:v("Conf #"),dataIndex:"confno",key:"confno",align:"right",render:(e,t)=>(0,s.jsx)(n.Z,{align:"center",children:null==t?void 0:t.reservationNumber})},{title:v("Room"),dataIndex:"room",key:"room",align:"center",render:(e,t)=>{var a;return(0,s.jsx)(n.Z,{align:"center",children:null==t?void 0:null===(a=t.room)||void 0===a?void 0:a.roomNumber})}},{title:v("Status"),dataIndex:"status",key:"status",align:"center",render:(e,t)=>v((0,r.l4)(null==t?void 0:t.status))},{title:v("Actions"),key:"action",align:"center",render:(e,t)=>(0,s.jsxs)("div",{className:"flex-row flex space-x-2 rtl:space-x-reverse justify-center",children:[(0,s.jsx)(i.default.Link,{onClick:()=>g.push("/crs/reservation/".concat(t.id)),children:(0,s.jsx)(o.Z,{className:"text-neutral-400",size:22})}),(0,s.jsx)(i.default.Link,{children:(0,s.jsx)(u(),{href:"/crs/reservation/".concat(t.id),className:"text-neutral-400",children:(0,s.jsx)(d.Z,{className:"text-neutral-400",size:24})})})]})}])},[t]),(0,s.jsx)(l.Z,{dataSource:a,columns:c,size:"small",pagination:{hideOnSinglePage:!0}})}},36746:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return $}});var s=a(85893),r=a(9008),n=a.n(r),i=a(36460),l=a(22427),o=a(89770),d=a(68616),c=a(26036),u=a(70973),x=a(56869),h=a(69666),m=a(13728),f=a(43740),v=a(37871),g=a(4712),p=a(67294),j=a(11354),y=a(73359),b=a(94221),k=a(3067),Z=a.n(k),N=a(82729),w=a(68806),C=a(54910);function I(){let e=(0,N._)(["\n  query reservationDetails(\n    $first: Int\n    $page: Int\n    $args: ReservationDetailArgs\n  ) {\n    reservationDetails(first: $first, page: $page, args: $args) {\n      paginatorInfo {\n        total\n      }\n      data {\n        id\n        checkedIn\n        checkedOut\n        status\n        room {\n          id\n          title\n          roomNumber\n          roomType {\n            id\n          }\n        }\n        deletedAt\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]);return I=function(){return e},e}let S=(0,w.ZP)(I());(0,C.B)(S);var T=a(56300),D=a(2650),Y=a(34579),P=a(12930),E=a(67421),F=a(11163),M=(0,p.memo)(()=>{var e,t;let{t:a}=(0,E.$G)(),[r,n]=(0,p.useState)(Z()().format("YYYY-MM-DD 12:00:00")),l=(0,F.useRouter)(),[o,{data:d,loading:c}]=(0,y.t)(b.p,{notifyOnNetworkStatusChange:!0,fetchPolicy:"network-only",onError:e=>{i.ZP.error(a(e.message))}});return(0,p.useEffect)(()=>{o({variables:{page:0,args:{departureDate:r}}})},[o,r]),(0,s.jsx)(x.Z,{title:"Checkout",subTitle:"Last Month",color:"#2FAC66",loading:c,noChart:!0,icon:(0,s.jsx)("div",{className:"bg-red-200 rounded-2xl flex p-3 w-12 h-12 items-center justify-center mt-3 ms-3",children:(0,s.jsx)(D.Z,{className:"text-red-500"})}),children:(0,s.jsxs)("div",{className:"py-2 px-4 flex flex-col justify-start items-start",children:[(0,s.jsx)(Y.Z,{title:a("Total"),value:null==d?void 0:null===(t=d.reservations)||void 0===t?void 0:null===(e=t.paginatorInfo)||void 0===e?void 0:e.total,valueStyle:{color:"#cf1322"}}),(0,s.jsx)(P.ZP,{style:{marginTop:16},type:"primary",ghost:!0,size:"small",onClick:()=>l.push("/crs/reservations/list"),className:"border-red-500 text-red-400",children:a("View more")})]})})}),A=a(43991),G=(0,p.memo)(()=>{var e,t;let{t:a}=(0,E.$G)(),[r,n]=(0,p.useState)(Z()().format("YYYY-MM-DD 12:00:00")),l=(0,F.useRouter)(),[o,{data:d,loading:c}]=(0,y.t)(b.p,{notifyOnNetworkStatusChange:!0,fetchPolicy:"network-only",onError:e=>{i.ZP.error(a(e.message))}});return(0,p.useEffect)(()=>{o({variables:{page:0,args:{arrivalDate:r}}})},[o,r]),(0,s.jsx)(x.Z,{title:"Checkin",subTitle:"Last Month",color:"#2FAC66",noChart:!0,loading:c,icon:(0,s.jsx)("div",{className:"bg-lime-200 rounded-2xl flex p-3 w-12 h-12 items-center justify-center mt-3 ms-3",children:(0,s.jsx)(A.Z,{className:"text-lime-500"})}),children:(0,s.jsxs)("div",{className:"py-2 px-4 flex flex-col justify-start items-start",children:[(0,s.jsx)(Y.Z,{title:a("Total"),value:null==d?void 0:null===(t=d.reservations)||void 0===t?void 0:null===(e=t.paginatorInfo)||void 0===e?void 0:e.total,valueStyle:{color:"#3f8600"}}),(0,s.jsx)(P.ZP,{style:{marginTop:16},type:"primary",ghost:!0,size:"small",onClick:()=>l.push("/crs/reservations/list"),className:"border-secondary text-secondary",children:a("View more")})]})})});function $(){var e,t;let[a,r]=(0,p.useState)("arrivals"),[k,N]=(0,p.useState)("created"),{t:w}=(0,v.$G)(),[C,I]=(0,p.useState)(Z()().format("YYYY-MM-DD 12:00:00")),D=[{key:"arrivals",tab:w("Arrivals")},{key:"departures",tab:w("Departures")},{key:"stayovers",tab:w("Stayovers")},{key:"inhouse",tab:w("In-House Guests")}],Y=[{key:"created",tab:w("Sales")},{key:"canceled",tab:w("Cancelations")}],[P,{data:E,loading:F}]=(0,y.t)(b.p,{notifyOnNetworkStatusChange:!0,fetchPolicy:"network-only",onError:e=>{i.ZP.error(w(e.message))}}),[A,{data:$,loading:_}]=(0,y.t)(S,{notifyOnNetworkStatusChange:!0,fetchPolicy:"network-only",onError:e=>{i.ZP.error(w(e.message))}});(0,p.useEffect)(()=>{P({variables:{first:10,page:0,args:{..."arrivals"===a&&{arrivalDate:C},..."departures"===a&&{departureDate:C}}}})},[P,a,C]),(0,p.useEffect)(()=>{A({variables:{first:10,page:0,args:{nights:1,..."created"===k&&{createdAt:C},..."canceled"===k&&{status:"cancelled"}}}})},[A,k]),(0,p.useEffect)(()=>{P({variables:{first:10,page:0,args:{arrivalDate:C}}}),A({variables:{first:10,page:0,args:{nights:1,createdAt:C}}})},[P,A]);let B=e=>{};return(0,s.jsxs)(T.Z,{children:[(0,s.jsxs)(n(),{children:[(0,s.jsx)("title",{children:"Mangotels"}),(0,s.jsx)("meta",{name:"description",content:"Mangotels | dashboard"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("main",{children:(0,s.jsxs)("div",{className:"App mt-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)(j.Z,{steps:[{href:"",title:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{className:"font-light",children:w("Dashboard")})})}]}),(0,s.jsx)(l.default.RangePicker,{onCalendarChange:e=>{B(e)}})]}),(0,s.jsxs)(o.Z,{gutter:[16,16],children:[(0,s.jsx)(d.Z,{md:6,children:(0,s.jsx)(M,{})}),(0,s.jsx)(d.Z,{md:6,children:(0,s.jsx)(G,{})}),(0,s.jsx)(d.Z,{md:5,children:(0,s.jsx)(x.Z,{title:"Sales",subTitle:"Last Month",color:"#F9B233",icon:(0,s.jsx)("div",{className:"bg-orange-200 rounded-2xl flex p-3",children:(0,s.jsx)(h.Z,{className:"text-orange-500"})}),options:{chart:{parentHeightOffset:0,toolbar:{show:!1},sparkline:{enabled:!0}},tooltip:{enabled:!1},dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},grid:{show:!1,padding:{top:5,bottom:20}},fill:{type:"gradient",gradient:{opacityTo:0,opacityFrom:1,shadeIntensity:1,stops:[0,100],colorStops:[[{offset:0,opacity:.4,color:"#F9B233"},{opacity:0,offset:100,color:"#F9B233"}]]}},theme:{monochrome:{enabled:!0,shadeTo:"light",shadeIntensity:1,color:"#F9B233"}},xaxis:{labels:{show:!1},axisTicks:{show:!1},axisBorder:{show:!1}},yaxis:{show:!1}}})}),(0,s.jsx)(d.Z,{md:7,children:(0,s.jsx)(x.Z,{title:"Revenue Growth",subTitle:"Last month",color:"#3B81F6",options:{chart:{parentHeightOffset:0,toolbar:{show:!1},sparkline:{enabled:!0}},tooltip:{enabled:!1},dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},grid:{show:!1,padding:{top:5,bottom:20}},fill:{type:"gradient",gradient:{opacityTo:0,opacityFrom:1,shadeIntensity:1,stops:[0,100],colorStops:[[{offset:0,opacity:.4,color:"#3B81F6"},{opacity:0,offset:100,color:"#3B81F6"}]]}},theme:{monochrome:{enabled:!0,shadeTo:"light",shadeIntensity:1,color:"#3B81F6"}},xaxis:{labels:{show:!1},axisTicks:{show:!1},axisBorder:{show:!1}},yaxis:{show:!1}},icon:(0,s.jsx)("div",{className:"bg-blue-200 rounded-2xl flex p-3",children:(0,s.jsx)(m.Z,{className:"text-blue-500"})})})})]}),(0,s.jsxs)(o.Z,{className:"mt-4",gutter:[16,16],children:[(0,s.jsx)(d.Z,{md:12,children:(0,s.jsx)(c.Z,{title:w("Reservations"),tabList:D,onTabChange:r,tabProps:{size:"middle"},extra:(0,s.jsx)(u.Z,{defaultValue:w("Today"),options:[w("Today"),w("Tommorrow")],onChange:e=>{e===w("Tommorrow")&&I(Z()().add(1,"days").format("YYYY-MM-DD 12:00:00")),e===w("Today")&&I(Z()().format("YYYY-MM-DD 12:00:00"))}}),loading:F,children:(0,s.jsx)(f.Z,{type:a,data:null==E?void 0:null===(e=E.reservations)||void 0===e?void 0:e.data})})}),(0,s.jsx)(d.Z,{md:12,children:(0,s.jsx)(c.Z,{title:w("Daily report"),tabList:Y,onTabChange:N,tabProps:{size:"middle"},loading:_,children:(0,s.jsx)(g.Z,{dataSource:null==$?void 0:null===(t=$.reservationsDetails)||void 0===t?void 0:t.data})})})]})]})})]})}}},function(e){e.O(0,[6036,7415,9477,7845,2427,5930,8030,5890,9774,2888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);